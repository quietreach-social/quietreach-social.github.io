<!DOCTYPE html>
<html>
<head>
  <title>QuietReach Social</title>
  <style>
    html, body, iframe {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      border: none;
    }
  </style>
</head>
<body>
  <iframe id="ipfs-frame"></iframe>

  <script>
    const gateways = [
      "https://ipfs.io/ipfs/bafkreidasvfgtaw655sicn4icgxuhih2do4drgiv6emolpif7a3v4jq3ae"
      // Future: add other URLs with different hashes if needed
    ];

    const iframe = document.getElementById("ipfs-frame");

    (async () => {
      for (let url of gateways) {
        try {
          await fetch(url, { method: "HEAD", mode: "no-cors" });
          iframe.src = url;
          return;
        } catch (err) {
          console.warn("Failed to load:", url);
        }
      }

      // Fallback display
      document.body.innerHTML = `
        <div style="text-align:center; padding-top:20%;">
          <h2>Content unavailable</h2>
          <p>Please try again later.</p>
        </div>`;
    })();
  </script>
</body>
</html>
